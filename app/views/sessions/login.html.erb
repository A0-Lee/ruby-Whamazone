<%= render 'shared/flashmessage' %>

<%# If user is already logged in, ensure they do not have access to the login page until they logout %>
  <% if session_user %>
    <h1><%=t('.login_prevent_title')%></h1>
    <hr>
    <div class="center-content">
      <p><%=t('.login_prevent_desc')%></p>
    </div>
  <% else %>
    <h1><%=t('.login_title')%></h1>
    <hr>
    <div class="center-content">
      <%# Note: "model: User.new" is equivalent to "scope: :user, url: users_path" %>
        <%= form_with scope: :login, url: sessions_path, local: true do |form| %>
        <p>
          <%= form.label :email, t(".email") %><br>
          <%= form.email_field :email, title: t(".enter_email"), placeholder: t(".email_placeholder"), size: 30, :required => true %>
        </p>

        <p>
          <%= form.label :password, t(".password") %><br>
          <%= form.password_field :password, title: t(".enter_password"), placeholder: t(".password_placeholder"), size: 30, :required => true %>
        </p>
        <p>
          <%= form.submit t(".login_button") %>
        </p>
        <p><%=t('.login_direct_to_signup')%>
          <a href="<%= user_signup_path %>">Sign-up here!</a>
        </p>
      <% end %>
    </div>
  <% end %>
